<!doctype html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.18" />
    <meta name="theme" content="VuePress Theme Hope 2.0.0-rc.59" />
    <style>
      :root {
        --vp-c-bg: #fff;
      }

      [data-theme="dark"] {
        --vp-c-bg: #1b1b1f;
      }

      html,
      body {
        background: var(--vp-c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.documentElement.setAttribute("data-theme", "dark");
      }
    </script>
    <meta property="og:url" content="https://mister-hope.github.io/blog/backend/framework/mq/Kafka.html"><meta property="og:site_name" content="九龙坡郭富城的博客"><meta property="og:title" content="Kafka"><meta property="og:description" content="Kafka 快速上手 特点 Kafka的核心作用就是用来收集并处理庞大复杂的应用日志 数据吞吐量很大：能够快速收集各个渠道的海量日志 集群容错性高：允许集群中少量节点崩溃 功能不需要太复杂：Kafka的设计目标是高吞吐、低延迟和可扩展性，主要关注消息传递而不是消息处理。所以，Kafka并没有死信队列、顺序消息等高级功能 下载 jdk配置 注意：Kafk..."><meta property="og:type" content="article"><meta property="og:locale" content="zh-CN"><meta property="og:updated_time" content="2025-09-21T13:38:52.000Z"><meta property="article:modified_time" content="2025-09-21T13:38:52.000Z"><script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"Kafka","image":[""],"dateModified":"2025-09-21T13:38:52.000Z","author":[{"@type":"Person","name":"Eobard Thawne","url":"https://gitee.com/eobard721"}]}</script><title>Kafka | 九龙坡郭富城的博客</title><meta name="description" content="Kafka 快速上手 特点 Kafka的核心作用就是用来收集并处理庞大复杂的应用日志 数据吞吐量很大：能够快速收集各个渠道的海量日志 集群容错性高：允许集群中少量节点崩溃 功能不需要太复杂：Kafka的设计目标是高吞吐、低延迟和可扩展性，主要关注消息传递而不是消息处理。所以，Kafka并没有死信队列、顺序消息等高级功能 下载 jdk配置 注意：Kafk...">
    <link rel="preload" href="/blog/assets/style-BNS39pOl.css" as="style"><link rel="stylesheet" href="/blog/assets/style-BNS39pOl.css">
    <link rel="modulepreload" href="/blog/assets/app-BSVCp1Z3.js"><link rel="modulepreload" href="/blog/assets/Kafka.html-O7qlvuCz.js"><link rel="modulepreload" href="/blog/assets/plugin-vue_export-helper-DlAUqK2U.js">
    <link rel="prefetch" href="/blog/assets/index.html-iICXwExX.js" as="script"><link rel="prefetch" href="/blog/assets/intro.html-BH_DlKEX.js" as="script"><link rel="prefetch" href="/blog/assets/AndroidStudio.html-DGlx_wv1.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-By0d_szO.js" as="script"><link rel="prefetch" href="/blog/assets/disable.html-BXksNTUL.js" as="script"><link rel="prefetch" href="/blog/assets/encrypt.html-VFc4yCiO.js" as="script"><link rel="prefetch" href="/blog/assets/layout.html-X39zZLOC.js" as="script"><link rel="prefetch" href="/blog/assets/markdown.html-C7W8Z_F6.js" as="script"><link rel="prefetch" href="/blog/assets/page.html-o98sBDNS.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-DgKNYxaW.js" as="script"><link rel="prefetch" href="/blog/assets/Vue.html-C7BdampP.js" as="script"><link rel="prefetch" href="/blog/assets/css.html-C_WL7qkq.js" as="script"><link rel="prefetch" href="/blog/assets/html.html-DuYUIQF7.js" as="script"><link rel="prefetch" href="/blog/assets/Docker容器化技术.html-hDZ9rmlh.js" as="script"><link rel="prefetch" href="/blog/assets/Linux.html-DnyqhRHC.js" as="script"><link rel="prefetch" href="/blog/assets/Minio文件系统.html-Dx_Z1B9b.js" as="script"><link rel="prefetch" href="/blog/assets/Nginx使用.html-C1MNhKO7.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-Bh-YDOA0.js" as="script"><link rel="prefetch" href="/blog/assets/Python基础.html-D1Vzt5d-.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-TjjLJrWo.js" as="script"><link rel="prefetch" href="/blog/assets/Redis.html-QP0aWi97.js" as="script"><link rel="prefetch" href="/blog/assets/JDK新特性.html-BAOEHgFM.js" as="script"><link rel="prefetch" href="/blog/assets/Java进阶总结.html-DKfSWTtk.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-BWfhDllL.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-VaY9LLkA.js" as="script"><link rel="prefetch" href="/blog/assets/MAS对齐.html-CsyB7okw.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-CvjSIzU8.js" as="script"><link rel="prefetch" href="/blog/assets/espeak环境配置.html-BFb7_wDc.js" as="script"><link rel="prefetch" href="/blog/assets/RabbitMQ实战.html-8p4xfBX5.js" as="script"><link rel="prefetch" href="/blog/assets/RabbitMQ消息队列.html-BJ35fiWZ.js" as="script"><link rel="prefetch" href="/blog/assets/Mybatis-Plus总结.html-C9hJXe4q.js" as="script"><link rel="prefetch" href="/blog/assets/Mybatis总结.html-D4Y-DAxI.js" as="script"><link rel="prefetch" href="/blog/assets/SpringBoot.html-DFMedQpJ.js" as="script"><link rel="prefetch" href="/blog/assets/SpringBoot模块化开发.html-BQ6y5lEF.js" as="script"><link rel="prefetch" href="/blog/assets/SpringCloudAlibaba.html-Bjkj-z98.js" as="script"><link rel="prefetch" href="/blog/assets/SpringMVC总结.html-DTujBLDt.js" as="script"><link rel="prefetch" href="/blog/assets/SpringSecurity.html-MkAnTyII.js" as="script"><link rel="prefetch" href="/blog/assets/Spring总结.html-D91OHd3v.js" as="script"><link rel="prefetch" href="/blog/assets/ElasticSerach总结.html-C4pemyCZ.js" as="script"><link rel="prefetch" href="/blog/assets/Shiro学习.html-2o6j3Dt2.js" as="script"><link rel="prefetch" href="/blog/assets/AutoEncoder.html-CG1xP9Mo.js" as="script"><link rel="prefetch" href="/blog/assets/Flow.html-j5hxvpbn.js" as="script"><link rel="prefetch" href="/blog/assets/GAN.html-C3oaMU2M.js" as="script"><link rel="prefetch" href="/blog/assets/CNN卷积神经网络.html-DIEPcLxj.js" as="script"><link rel="prefetch" href="/blog/assets/404.html-9gDDaUsM.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-CcJ82O0y.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-WcrbtskC.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-8r4XAOYq.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-DhUVGMb7.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-BuDsYJcd.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-DvPxMpeX.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-CeEL4o5r.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-ByM6eedn.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-DhgvQxWR.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-D544Y9u-.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-BcwLlod8.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-CTcsmFix.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-B4KwVAzk.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-BuF1P8Jc.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-BQXvbZCo.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-D4ho_Qra.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-DoxbCy33.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-CsBfnUD7.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-C5bJ3k6h.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-B3S_KtGL.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-BwvZABBk.js" as="script"><link rel="prefetch" href="/blog/assets/browser-DFdoOzbh.js" as="script"><link rel="prefetch" href="/blog/assets/photoswipe.esm-D2Nf-uDI.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="vp-skip-link sr-only">跳至主要內容</a><!--]--><!--[--><div class="theme-container external-link-icon has-toc" vp-container><!--[--><header id="navbar" class="vp-navbar" vp-navbar><div class="vp-navbar-start"><button type="button" class="vp-toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!----><!--[--><a class="route-link vp-brand" href="/blog/" aria-label="带我回家"><!----><!----><span class="vp-site-name">九龙坡郭富城的博客</span></a><!--]--><!----></div><div class="vp-navbar-center"><!----><!--[--><nav class="vp-nav-links"><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/blog/" aria-label="博客主页"><!--[--><span class="font-icon icon fa-fw fa-sm fas fa-home" style=""></span><!--]-->博客主页<!----></a></div><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/blog/fronted/" aria-label="个人笔记"><!--[--><span class="font-icon icon fa-fw fa-sm fas fa-book" style=""></span><!--]-->个人笔记<!----></a></div><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/blog/intro.html" aria-label="关于我"><!--[--><span class="font-icon icon fa-fw fa-sm fas fa-user-tie" style=""></span><!--]-->关于我<!----></a></div></nav><!--]--><!----></div><div class="vp-navbar-end"><!----><!--[--><!----><div class="vp-nav-item vp-action"><a class="vp-action-link" href="https://github.com/EobardThawne721/blog" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="github icon" name="github" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="vp-nav-item hide-in-mobile"><button type="button" class="vp-outlook-button" tabindex="-1" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" class="icon outlook-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="outlook icon" name="outlook"><path d="M224 800c0 9.6 3.2 44.8 6.4 54.4 6.4 48-48 76.8-48 76.8s80 41.6 147.2 0 134.4-134.4 38.4-195.2c-22.4-12.8-41.6-19.2-57.6-19.2C259.2 716.8 227.2 761.6 224 800zM560 675.2l-32 51.2c-51.2 51.2-83.2 32-83.2 32 25.6 67.2 0 112-12.8 128 25.6 6.4 51.2 9.6 80 9.6 54.4 0 102.4-9.6 150.4-32l0 0c3.2 0 3.2-3.2 3.2-3.2 22.4-16 12.8-35.2 6.4-44.8-9.6-12.8-12.8-25.6-12.8-41.6 0-54.4 60.8-99.2 137.6-99.2 6.4 0 12.8 0 22.4 0 12.8 0 38.4 9.6 48-25.6 0-3.2 0-3.2 3.2-6.4 0-3.2 3.2-6.4 3.2-6.4 6.4-16 6.4-16 6.4-19.2 9.6-35.2 16-73.6 16-115.2 0-105.6-41.6-198.4-108.8-268.8C704 396.8 560 675.2 560 675.2zM224 419.2c0-28.8 22.4-51.2 51.2-51.2 28.8 0 51.2 22.4 51.2 51.2 0 28.8-22.4 51.2-51.2 51.2C246.4 470.4 224 448 224 419.2zM320 284.8c0-22.4 19.2-41.6 41.6-41.6 22.4 0 41.6 19.2 41.6 41.6 0 22.4-19.2 41.6-41.6 41.6C339.2 326.4 320 307.2 320 284.8zM457.6 208c0-12.8 12.8-25.6 25.6-25.6 12.8 0 25.6 12.8 25.6 25.6 0 12.8-12.8 25.6-25.6 25.6C470.4 233.6 457.6 220.8 457.6 208zM128 505.6C128 592 153.6 672 201.6 736c28.8-60.8 112-60.8 124.8-60.8-16-51.2 16-99.2 16-99.2l316.8-422.4c-48-19.2-99.2-32-150.4-32C297.6 118.4 128 291.2 128 505.6zM764.8 86.4c-22.4 19.2-390.4 518.4-390.4 518.4-22.4 28.8-12.8 76.8 22.4 99.2l9.6 6.4c35.2 22.4 80 12.8 99.2-25.6 0 0 6.4-12.8 9.6-19.2 54.4-105.6 275.2-524.8 288-553.6 6.4-19.2-3.2-32-19.2-32C777.6 76.8 771.2 80 764.8 86.4z"></path></svg><div class="vp-outlook-dropdown"><!----></div></button></div><!----><!--]--><!----><button type="button" class="vp-toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span><span class="vp-top"></span><span class="vp-middle"></span><span class="vp-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow start"></span></div><aside id="sidebar" class="vp-sidebar" vp-sidebar><!----><ul class="vp-sidebar-links"><li><a class="route-link auto-link vp-sidebar-link" href="/blog/" aria-label="博客主页"><!--[--><span class="font-icon icon fa-fw fa-sm fas fa-home" style=""></span><!--]-->博客主页<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/blog/fronted/" aria-label="前端"><!--[--><span class="font-icon icon fa-fw fa-sm fas fa-crown" style=""></span><!--]-->前端<!----></a></li><li><section class="vp-sidebar-group"><p class="vp-sidebar-header"><span class="font-icon icon fa-fw fa-sm fas fa-ghost" style=""></span><span class="vp-sidebar-title">Java后端</span><!----></p><ul class="vp-sidebar-links"><li><a class="route-link auto-link vp-sidebar-link" href="/blog/backend/AndroidStudio.html" aria-label="安卓开发"><!--[--><span class="font-icon icon fa-fw fa-sm fas fa-mobile-screen" style=""></span><!--]-->安卓开发<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/blog/backend/standard/" aria-label="Java基础篇"><!--[--><span class="font-icon icon fa-fw fa-sm fas fa-mug-hot" style=""></span><!--]-->Java基础篇<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/blog/backend/framework/" aria-label="Java框架篇"><!--[--><span class="font-icon icon fa-fw fa-sm fas fa-skull" style=""></span><!--]-->Java框架篇<!----></a></li></ul></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><span class="font-icon icon fa-fw fa-sm fas fa-poo" style=""></span><span class="vp-sidebar-title">Python</span><span class="vp-arrow end"></span></button><!----></section></li><li><a class="route-link auto-link vp-sidebar-link" href="/blog/os/" aria-label="操作系统篇"><!--[--><span class="font-icon icon fa-fw fa-sm fas fa-computer" style=""></span><!--]-->操作系统篇<!----></a></li></ul><!----></aside><!--[--><main id="main-content" class="vp-page"><!--[--><!----><!----><nav class="vp-breadcrumb disable"></nav><div class="vp-page-title"><h1><!---->Kafka</h1><div class="page-info"><span class="page-author-info" aria-label="作者🖊" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon" name="author"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><a class="page-author-item" href="https://gitee.com/eobard721" target="_blank" rel="noopener noreferrer">Eobard Thawne</a></span><span property="author" content="Eobard Thawne"></span></span><!----><span class="page-date-info" aria-label="写作日期📅" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon" name="calendar"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span data-allow-mismatch="text">2025年9月20日</span><meta property="datePublished" content="2025-09-20T15:46:21.000Z"></span><!----><span class="page-reading-time-info" aria-label="阅读时间⌛" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon" name="timer"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>大约 7 分钟</span><meta property="timeRequired" content="PT7M"></span><!----><!----></div><hr></div><div class="vp-toc-placeholder"><aside id="toc" vp-toc><!----><div class="vp-toc-header">此页内容<!----><div class="arrow end"></div></div><div class="vp-toc-wrapper"><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#快速上手">快速上手</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#特点">特点</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#下载">下载</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#基本概念">基本概念</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#broker">Broker</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#topic-主题">Topic（主题）</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#partition-分区">Partition（分区）</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#offset-偏移量">offset（偏移量）</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#consumer-group-消费者组">Consumer Group（消费者组）</a></li><!----><!--]--></ul></li><!--]--></ul><div class="vp-toc-marker" style="top:-1.7rem;"></div></div><!----></aside></div><!----><div class="theme-hope-content" vp-content><h1 id="kafka" tabindex="-1"><a class="header-anchor" href="#kafka"><span>Kafka</span></a></h1><h2 id="快速上手" tabindex="-1"><a class="header-anchor" href="#快速上手"><span>快速上手</span></a></h2><h3 id="特点" tabindex="-1"><a class="header-anchor" href="#特点"><span>特点</span></a></h3><blockquote><p><strong>Kafka的核心作用就是用来收集并处理庞大复杂的应用日志</strong></p></blockquote><ol><li>数据吞吐量很大：能够快速收集各个渠道的海量日志</li><li>集群容错性高：允许集群中少量节点崩溃</li><li><strong>功能不需要太复杂：Kafka的设计目标是高吞吐、低延迟和可扩展性，主要关注消息传递而不是消息处理。所以，Kafka并没有死信队列、顺序消息等高级功能</strong></li></ol><h3 id="下载" tabindex="-1"><a class="header-anchor" href="#下载"><span>下载</span></a></h3><h4 id="jdk配置" tabindex="-1"><a class="header-anchor" href="#jdk配置"><span>jdk配置</span></a></h4><blockquote><p><strong>注意：Kafka和zookeeper都需要有Java的环境，所以安装前，需要确保存在Java环境</strong></p></blockquote><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 下面的环境需要jdk17的支持</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">wget</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> https://download.oracle.com/java/17/archive/jdk-17.0.12_linux-x64_bin.tar.gz</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 解压文件然后执行配置</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">vim</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /etc/profile</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">#这里是刚刚解压缩的位置,后期要更改jdk版本，只需要改这里即可</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">JAVA_HOME</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">/root/jdk-17.0.12</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">PATH</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">$JAVA_HOME</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">/bin:</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">$PATH</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">CLASSPATH</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">.:</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">$JAVA_HOME</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">/lib/dt.jar:</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">$JAVA_HOME</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">/lib/tools.jar</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">export</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> JAVA_HOME</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">export</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> PATH</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">export</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> CLASSPATH</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 刷新配置</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">source</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /etc/profile</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="搭建单机版" tabindex="-1"><a class="header-anchor" href="#搭建单机版"><span>搭建单机版</span></a></h4><h5 id="安装kafaka" tabindex="-1"><a class="header-anchor" href="#安装kafaka"><span>安装kafaka</span></a></h5><p>官方地址：<a href="https://kafka.apache.org/downloads" target="_blank" rel="noopener noreferrer">Apache Kafka</a></p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 下载源码包</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">wget</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> https://mirrors.dotsrc.org/apache/kafka/3.8.0/kafka_2.13-3.8.0.tgz</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 解压</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">tar</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -zxvf</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> kafka_2.13-3.8.0.tgz</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 后台启动</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">nohup</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> bin/kafka-server-start.sh</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> config/server.properties</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &amp;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 查看jps</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">jps</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="/blog/assets/image-20250920201738162-B8ugGIHb.png" alt="image-20250920201738162" tabindex="0" loading="lazy"><figcaption>image-20250920201738162</figcaption></figure><h5 id="其它命令" tabindex="-1"><a class="header-anchor" href="#其它命令"><span>其它命令</span></a></h5><h6 id="创建topic" tabindex="-1"><a class="header-anchor" href="#创建topic"><span><strong>创建topic</strong></span></a></h6><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">bin/kafka-topics.sh</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --bootstrap-server</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> localhost:9092</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">  --create</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --topic</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  test</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><figure><img src="/blog/assets/image-20250920203100490-DRtNR2gO.png" alt="image-20250920203100490" tabindex="0" loading="lazy"><figcaption>image-20250920203100490</figcaption></figure><h6 id="查看topic列表" tabindex="-1"><a class="header-anchor" href="#查看topic列表"><span><strong>查看topic列表</strong></span></a></h6><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">bin/kafka-topics.sh</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --bootstrap-server</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> localhost:9092</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --list</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><figure><img src="/blog/assets/image-20250920203122516-BITYtcev.png" alt="image-20250920203122516" tabindex="0" loading="lazy"><figcaption>image-20250920203122516</figcaption></figure><h6 id="创建生产者" tabindex="-1"><a class="header-anchor" href="#创建生产者"><span><strong>创建生产者</strong></span></a></h6><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">#创建一个基于控制台的生产者，往kafka指定topic发消息</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">bin/kafka-console-producer.sh</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --bootstrap-server</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> localhost:9092</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --topic</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> test</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="/blog/assets/image-20250920203341338-0oZ38Ejb.png" alt="image-20250920203341338" tabindex="0" loading="lazy"><figcaption>image-20250920203341338</figcaption></figure><h6 id="创建消费者" tabindex="-1"><a class="header-anchor" href="#创建消费者"><span><strong>创建消费者</strong></span></a></h6><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 创建一个基于控制台的消费者，在test的topic中消费消息（默认从队列的最后消费）</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">bin/kafka-console-consumer.sh</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --bootstrap-server</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> localhost:9092</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">  --topic</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> test</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="/blog/assets/image-20250920203903735-Dg6Dv8Mn.png" alt="image-20250920203903735" tabindex="0" loading="lazy"><figcaption>image-20250920203903735</figcaption></figure><blockquote><p><strong>这里没有打印到生产者的消息，是因为如果没有指定 offset，当前消费者只会消费本身进程启动后，生产者发送的最新消息；可以使用<code>--from-beginning</code>消费topic中已有的全部消息</strong></p></blockquote><h6 id="从头开始消费" tabindex="-1"><a class="header-anchor" href="#从头开始消费"><span><strong>从头开始消费</strong></span></a></h6><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 创建一个基于控制台的消费者，在test的topic中，从头开始消费消息</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">bin/kafka-console-consumer.sh</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --bootstrap-server</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> localhost:9092</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">  --topic</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> test</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">  --from-beginning</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="/blog/assets/image-20250920204345160-vORittuF.png" alt="image-20250920204345160" tabindex="0" loading="lazy"><figcaption>image-20250920204345160</figcaption></figure><h6 id="指定位置消费" tabindex="-1"><a class="header-anchor" href="#指定位置消费"><span><strong>指定位置消费</strong></span></a></h6><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">#  创建一个基于控制台的消费者，在指定topic中从第二条消息（下标默认从0开始）开始消费</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">bin/kafka-console-consumer.sh</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --bootstrap-server</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> localhost:9092</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">  --topic</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> test</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">  --partition</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 0</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --offset</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="/blog/assets/image-20250920212312462-BthkKBto.png" alt="image-20250920212312462" tabindex="0" loading="lazy"><figcaption>image-20250920212312462</figcaption></figure><figure><img src="/blog/assets/image-20250920212429387-CcuupwAm.png" alt="image-20250920212429387" tabindex="0" loading="lazy"><figcaption>image-20250920212429387</figcaption></figure><h6 id="不同消费者组消费" tabindex="-1"><a class="header-anchor" href="#不同消费者组消费"><span><strong>不同消费者组消费</strong></span></a></h6><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 创建testGroup的消费者组</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">bin/kafka-console-consumer.sh</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --bootstrap-server</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> localhost:9092</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">  --topic</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> test</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">  --group</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> testGroup</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --from-beginning</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 创建testGroup2的消费者组</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">bin/kafka-console-consumer.sh</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --bootstrap-server</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> localhost:9092</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">  --topic</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> test</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">  --group</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> testGroup</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --from-beginning</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="/blog/assets/image-20250920213556118-C23nLq_y.png" alt="image-20250920213556118" tabindex="0" loading="lazy"><figcaption>image-20250920213556118</figcaption></figure><figure><img src="/blog/assets/image-20250920213637731-BZPjxXIw.png" alt="image-20250920213637731" tabindex="0" loading="lazy"><figcaption>image-20250920213637731</figcaption></figure><h6 id="查看消费者组里消费情况" tabindex="-1"><a class="header-anchor" href="#查看消费者组里消费情况"><span><strong>查看消费者组里消费情况</strong></span></a></h6><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">bin/kafka-consumer-groups.sh</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --bootstrap-server</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> localhost:9092</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">  --describe</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --group</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> testGroup</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><figure><img src="/blog/assets/image-20250920214621252-BgZjeWUf.png" alt="image-20250920214621252" tabindex="0" loading="lazy"><figcaption>image-20250920214621252</figcaption></figure><ul><li><strong>GROUP：消费者组名称</strong></li><li><strong>TOPIC：主题名称</strong></li><li><strong>PARTITION：分区编号</strong></li><li><strong>CURRENT-OFFSET：当前消费消息的offset位置</strong></li><li><strong>LOG-END-OFFSET：总共的offset位置</strong></li><li><strong>LAG：还有多少条没消费</strong></li></ul><h4 id="搭建集群版" tabindex="-1"><a class="header-anchor" href="#搭建集群版"><span>搭建集群版</span></a></h4><figure><img src="/blog/assets/image-20250921194712690-BhPYDJuq.png" alt="image-20250921194712690" tabindex="0" loading="lazy"><figcaption>image-20250921194712690</figcaption></figure><blockquote><p><strong>为什么需要集群？</strong></p><p><strong>单机服务下，Kafka已经具备非常高的性能，但是单机版的Kafka会有很大的局限性，因此需要集群</strong></p><ul><li><strong>单机磁盘有限，Broker的Topic消息不断增多难以承载。集群就可以把这些消息会分成不同的Partition，分布到不同的Broker上，从而突破单机限制</strong></li><li><strong>如果单机服务崩溃，数据容易丢失，服务不稳定。为了保证数据安全，集群给每个Partition配置一个或多个副本，通过Zookeeper选举主节点Leader，其它节点就是从节点Follower。主节点负责响应客户端业务，从节点负责同步主节点数据</strong></li><li><strong>Zookeeper会保存Kafka的Broker信息、Partition选举信息，当某些Broker服务崩溃时会自动选举，确保系统高可用</strong></li></ul></blockquote><h5 id="安装zookeeper" tabindex="-1"><a class="header-anchor" href="#安装zookeeper"><span>安装zookeeper</span></a></h5><p>官方地址：<a href="https://zookeeper.apache.org/releases.html" target="_blank" rel="noopener noreferrer">Apache ZooKeeper</a></p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 下载包</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">wget</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> https://mirrors.aliyun.com/apache/zookeeper/zookeeper-3.8.5/apache-zookeeper-3.8.5-bin.tar.gz</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">#解压</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">tar</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -zxf</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> apache-zookeeper-3.8.5-bin.tar.gz</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 进入解压后的conf文件夹，复制一份配置文件</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">cp</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> zoo_sample.cfg</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  zoo.cfg</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 后台启动</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">nohup</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> bin/zkServer.sh</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> start</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &amp;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 使用jps查看是否启动成功 或者查看输出日志</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">jps</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 启动成功就不用管了，这里暂时先退出Zookeeper</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">kill</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -9</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 2150</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="/blog/assets/image-20250920194639885-C8JVIoZ5.png" alt="image-20250920194639885" tabindex="0" loading="lazy"><figcaption>image-20250920194639885</figcaption></figure><figure><img src="/blog/assets/image-20250920194736578-Crd_oawh.png" alt="image-20250920194736578" tabindex="0" loading="lazy"><figcaption>image-20250920194736578</figcaption></figure><h5 id="部署zookeeper集群" tabindex="-1"><a class="header-anchor" href="#部署zookeeper集群"><span>部署Zookeeper集群</span></a></h5><blockquote><p><strong>这里以1个集群为例，如果有多个，直接按照对应的步骤配置启动即可</strong></p></blockquote><ul><li><strong>修改每个服务器的Zookeeper的配置文件</strong></li></ul><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 找到自己安装Zookeeper的位置，更改conf配置文件的zoo.cfg</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">#  		如果没有这个文件，可以cp zoo_sample.cfg zoo.cfg然后编辑</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">vim</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  zoo.cfg</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="/blog/assets/image-20250921200349971-BQ1CtY6u.png" alt="image-20250921200349971" tabindex="0" loading="lazy"><figcaption>image-20250921200349971</figcaption></figure><p><strong>注意：每个服务器上的<code>server.x</code>配置要一致，这样才能知道哪些服务器上可以进行通信</strong></p><ul><li><strong>设置当前地址的myid</strong></li></ul><blockquote><p><strong>注意：这里的myid要和配置文件中<code>server.</code>序号对应上（eg：我这里模拟只有1个，并且本机的ip地址就是<code>server.1</code>后面的地址，那么本机的myid就是<code>1</code>；如果有多个服务器，那么在其它服务器上按照IP地址配置<code>server.</code>后面的数字即可）</strong></p></blockquote><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 在刚刚dataDir里面配置myid</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">mkdir</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /root/zookeeper/data</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">cd</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /root/zookeeper/data</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 写入当前的编号</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">echo</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &gt; </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">myid</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><strong>依次启动每个服务器的各个Zookeeper节点</strong></li></ul><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">bin/zkServer.sh</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> start</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><figure><img src="/blog/assets/image-20250921201506536-B0eSk54r.png" alt="image-20250921201506536" tabindex="0" loading="lazy"><figcaption>image-20250921201506536</figcaption></figure><h5 id="部署kafka集群" tabindex="-1"><a class="header-anchor" href="#部署kafka集群"><span>部署Kafka集群</span></a></h5><ul><li><strong>修改每个服务器上Kafka的配置文件</strong></li></ul><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 找到自己安装Kafka的根目录，然后修改配置文件</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">vim</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> config/server.properties</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 当前服务器的broker在集群中的id是多少,全局唯一，不能重复，只能是数字</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">broker.id</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">=1</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 监听的本机Kafka地址</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">listeners</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">PLAINTEXT://172.28.230.134:9092</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 自定义配置数据文件的地址</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">log.dirs</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">=/root/kafka_2.13-3.8.0/kafka-logs</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 配置Zookeeper的连接地址</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">zookeeper.connect</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">=172.28.230.134:2181</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p><strong>注意：这里我只用了1个Zookeeper集群，所以这里的地址只有一个；如果你上面搭建了多个Zookeeper集群，那么这里就要把所有的集群都配置上，以逗号分开</strong></p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># eg：三个Zookeeper集群，默认情况下所有的Zookeeper数据会被保存到Zookeeper的根路径下,如果不想注册到根路径下，可以设置指定路径(eg：172.28.230.132:2181/my)</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">zookeeper.connect</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">=172.28.230.134:2181,172.28.230.133:2181,172.28.230.132:2181</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div></blockquote><ul><li><strong>启动每个服务器的Kafka节点</strong></li></ul><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">nohup</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> bin/kafka-server-start.sh</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> config/server.properties</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &amp;</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">cat</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> hup.out</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="/blog/assets/image-20250921205117220-Cs9P9vTF.png" alt="image-20250921205117220" tabindex="0" loading="lazy"><figcaption>image-20250921205117220</figcaption></figure><h5 id="测试" tabindex="-1"><a class="header-anchor" href="#测试"><span>测试</span></a></h5><blockquote><p><strong>假设有三台服务器：<code>worker1:9092、worker2:9092、worker3:9092</code>，它们对应的broker的id和myid是<code>1、2、3</code></strong></p></blockquote><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 在worker1:9092这个服务器上创建disTopic主题，其中副本数量为2，分区为4</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">bin/kafka-topics.sh</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">  --bootstrap-server</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> worker1:9092</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --create</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">  --replication-factor</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 2</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --partitions</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 4</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">  --topic</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> disTopic</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 查看disTopic主题的信息</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">bin/kafka-topics.sh</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">  --bootstrap-server</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> worker1:9092</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --describe</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">  --topic</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> disTopic</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="/blog/assets/image-20250921210754663-CqHycTzt.png" alt="image-20250921210754663" tabindex="0" loading="lazy"><figcaption>image-20250921210754663</figcaption></figure><ul><li><strong>replication-factor 2 ：每个分区总共有2个副本，1个Leader+1个follower（eg：分区0的Leader是broker 2，follower是broker 1保存副本）</strong></li><li><strong>partitions 4：当前topic会有4个分区，0~3</strong></li><li><strong>Leader：表示主节点的broker id（eg：分区0的主节点是broker 2）</strong></li></ul><h5 id="注意" tabindex="-1"><a class="header-anchor" href="#注意"><span>注意</span></a></h5><blockquote><p><strong>1. Kafka 中的 Topic 是集群共享的，不管你在哪个 Broker 上创建 Topic，Kafka 会自动把分区和副本分散到集群里的不同 Broker 上，保证负载均衡和高可用性。</strong></p><p><strong>2.当你向集群中的Follower收、发消息时，Kafka内部会找到Leader并往内部读、写消息，随后Leader会发送消息给Follower去同步消息（eg：上面的分区0，Leader是broker 2，我指定向broker1发送消息，内部还是会发送给broker2，然后会同步给broker1）</strong></p></blockquote><h2 id="基本概念" tabindex="-1"><a class="header-anchor" href="#基本概念"><span>基本概念</span></a></h2><figure><img src="/blog/assets/image-20250920215144431-DzPhTPT2.png" alt="image-20250920215144431" tabindex="0" loading="lazy"><figcaption>image-20250920215144431</figcaption></figure><h3 id="broker" tabindex="-1"><a class="header-anchor" href="#broker"><span>Broker</span></a></h3><ul><li><strong>一个Kafka服务器就是一个Broker</strong></li></ul><h3 id="topic-主题" tabindex="-1"><a class="header-anchor" href="#topic-主题"><span>Topic（主题）</span></a></h3><ul><li>每条发布到Kafka中的消息都有一个类别，这个类别就是Topic，<strong>这是一个逻辑概念</strong></li><li><strong>Topic并不是一个单一的消息队列，而是可以创建多个Partition</strong></li></ul><h3 id="partition-分区" tabindex="-1"><a class="header-anchor" href="#partition-分区"><span>Partition（分区）</span></a></h3><ul><li><strong>当发送消息给Topic时，消息真正存放在Partition中。默认情况创建1个Partition（编号从0开始）</strong></li><li><strong>Partition内的消息有序（FIFO）</strong>，但全局顺序不保证</li><li><strong>不同消费者可以同时消费不同Partition，实现负载均衡</strong></li></ul><h3 id="offset-偏移量" tabindex="-1"><a class="header-anchor" href="#offset-偏移量"><span>offset（偏移量）</span></a></h3><ul><li><strong>每条消息在Partition内都有一个递增的offset（从0开始，顺序递增），用来标识消息的唯一位置</strong></li><li><strong>每个Partition的offset独立，可以指定从Partition的哪个offset开始消费</strong></li><li><strong>同一消费者组里的消费者共享offset（即组内最新的消费位置）；不同消费者组的offset独立</strong></li></ul><h3 id="consumer-group-消费者组" tabindex="-1"><a class="header-anchor" href="#consumer-group-消费者组"><span>Consumer Group（消费者组）</span></a></h3><ul><li><p>每个消费者可以指定所属消费者组</p></li><li><p><strong>同一消费者组：组件消费者都共享Partition，每条消息只会被组内任意一个消费者处理一次</strong></p></li><li><p><strong>不同消费者组：不同组独立消费，同一条消息可以被不同组的任意消费者各消费一次（即不同组可以消费同一条消息）</strong></p></li></ul></div><!----><footer class="vp-page-meta"><!----><div class="vp-meta-item git-info"><div class="update-time"><span class="vp-meta-label">上次编辑于: </span><span class="vp-meta-info" data-allow-mismatch="text">2025/9/21 13:38:52</span></div><div class="contributors"><span class="vp-meta-label">贡献者: </span><!--[--><!--[--><span class="vp-meta-info" title="email: 2209473452@qq.com">Eobard</span><!--]--><!--]--></div></div></footer><!----><!----><!----><!--]--></main><!--]--><footer class="vp-footer-wrapper" vp-footer><div class="vp-footer">默认页脚</div><div class="vp-copyright">Copyright © 2025 Eobard Thawne </div></footer></div><!--]--><!--]--><!--[--><!----><!--[--><!--]--><!--]--><!--]--></div>
    <script type="module" src="/blog/assets/app-BSVCp1Z3.js" defer></script>
  </body>
</html>
